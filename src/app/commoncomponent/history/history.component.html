<p-button label="History"  badge="{{History?.length}}" badgeClass="p-badge-danger" styleClass="p-button-rounded p-button-warning p-button-outlined"  icon="pi pi-users" (click)="openHistory()"> </p-button>











<p-dialog header="History" [(visible)]="historyFilter" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '80vw' }" [draggable]="false"   [maximizable]="true">



    <div class="flex card-container">
        <div  >

        <!-- [loading]="loading" -->
            
            <p-table
        
                #table
                [value]="History"
                dataKey="id"
                [rows]="10"
                [showCurrentPageReport]="true"
                [rowsPerPageOptions]="[10, 25, 50]"
              
                [paginator]="true"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [globalFilterFields]="['mrNo', 'personFullName', 'personTitleId', 'personSex','personEmail','personAddress1','employmentCompanyName']"
            >
              
                <ng-template pTemplate="header">
                    <tr>
            
            
                     
            
                        <th pSortableColumn="mrno" >
                            <div class="flex align-items-center">
                                MrNo <p-sortIcon field="mrNo"></p-sortIcon>
                                <p-columnFilter type="text" field="mrNo" display="menu"></p-columnFilter>
                            </div>
                        </th>
                        <th  >
                            <div class="flex align-items-center">
                                Full Name
                                <p-columnFilter type="text" field="personFullName" display="menu"></p-columnFilter>
                            </div>
                        </th>
            
                        <th  style="width:12%">
                            <div class="flex align-items-center">
                                Title
                                <p-columnFilter type="text" field="personTitleId" display="menu"></p-columnFilter>
                            </div>
                        </th>
                    
                        <th >
                            <div class="flex align-items-center">
                                Sex
                                <p-columnFilter type="text" field="personSex" display="menu"></p-columnFilter>
                            </div>
                        </th>
                        <th >
                            <div class="flex align-items-center">
                                Email
                                <p-columnFilter type="text" field="personEmail" display="menu" ></p-columnFilter>
                            </div>
                        </th>
            
                        <th  >
                            <div class="flex align-items-center">
                                Address
                                <p-columnFilter type="text" field="personAddress1" display="menu" ></p-columnFilter>
                            </div>
                        </th>
            
                        <th  >
                            <div class="flex align-items-center">
                                Company Name
                                <p-columnFilter type="text" field="employmentCompanyName" display="menu" ></p-columnFilter>
                            </div>
                        </th>
                      
            
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-History>
                    <tr>
                        <td>
                            {{ History.mrNo }}
                        </td>
                        <td>
                            <span class="ml-1 vertical-align-middle">{{ History.personFullName }}</span>
                        </td>
                
            
            
            
                        <td>
                            <span class="ml-1 vertical-align-middle">{{ History.personTitleId }}</span>
                        </td>
            
                        
                        <td>
                            <span class="ml-1 vertical-align-middle">{{ History.personSex }}</span>
                        </td>
            
            
                        <td>
                            <span class="ml-1 vertical-align-middle">{{ History.personEmail }}</span>
                        </td>
            
            
            
            
                        <td>
                            <span class="ml-1 vertical-align-middle">{{ History.personAddress1 }}</span>
                        </td>
                  

                        <td>
                            <span class="ml-1 vertical-align-middle">{{ History.employmentCompanyName }}</span>
                        </td>
                  
                   
            
                  
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="7">No record found.</td>
                    </tr>
                </ng-template>
            
            
                
            
            </p-table>
            
            <p-toast></p-toast>


        </div>
    </div>

</p-dialog>